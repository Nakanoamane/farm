@import '../settings.scss';
@import '../mxin.scss';
@import '../common/item.scss';

.shops {
	width: 100px;
}

.shop {
	width: 100px;
	height: 120px;
	padding: 10px 0;
	position: relative;

	&.selectedShop::before {
		content: '';
		position: absolute;
		top: 40px;
		right: 95px;
		display: block;
    height: 50px;
    width: 37px;
		clip-path: polygon(50% 50%, 0 0, 0 100%);
		background-color: $color-black;
	}
}

@mixin shopBtnActive {
	width: 100px;
	height: 100px;
	margin: 0;
}

@mixin shopBtn {
	@include shopBtnActive;

	&:hover {
		cursor: pointer;
		width: 106px;
		height: 106px;
		margin: -3px;
	}
	&:active {
		@include shopBtnActive;
	}
}

@each $shop in $shops {
	.#{$shop} {
		background: url('~/public/images/shops/#{$shop}.webp') no-repeat center/contain;
		@include shopBtn;
	}
}

@mixin balloon {
	position: absolute;
	top: 30px;
	right: 130px;
	border: $color-black 3px solid;
	border-radius: 8px;
	background: $color-white;
	padding: 10px;
	width: 380px;
	height: 200px;
}

.clockBalloon {
	@include balloon;

	.times {
		margin-top: 10px;
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		gap: 15px;

		.time {
			width: 100%;
			font-family: $font-en;
			font-size: 30px;
			font-weight: 600;
			text-align: center;
		}
		.pause {
			background: url('~/public/images/icons/pause.svg') no-repeat center/50%;
		}
		.play {
			background: url('~/public/images/icons/play.svg') no-repeat center/50%;
		}
		.pause, .play {
			width: 75px;
			height: 75px;
			border: 3px solid $color-black;
			border-radius: 8px;
			margin: 10px;
			background-color: $color-cobalt;

			&:hover:not(:disabled) {
				cursor: pointer;
				width: 81px;
				height: 81px;
				margin: 6px 8px 4px 6px;
			}
			&:disabled {
				border: none;
				background-color: $color-gray;
			}
		}
	}
}

.museumBalloon {
	@include balloon;
	top: -90px;
	width: 480px;
	height: 720px;

	.achievement {
		padding: 10px 10px 10px 80px;
		border-bottom: 3px solid $color-black;
		position: relative;

		.acvTitle {
			font-size: 30px;
			font-weight: bold;
			font-family: $font-en;
		}
		.acvText {
			font-size: 16px;
		}

		&::before {
			content: '';
			position: absolute;
			top: 15px;
			left: 5px;
			display: block;
			width: 60px;
			height: 60px;
			background: url('~/public/images/achievements/trophy-secret.svg') no-repeat center/contain;
		}
		@each $acv in $achievements {
			&.#{$acv}::before {
				background-image: url('~/public/images/achievements/#{$acv}.svg');
			}
		}
	}
}

.restaurantBalloon {
	@include balloon;
	background: $color-mustard;
	top: -210px;
	width: 730px;
	height: 480px;
	display: grid;
	grid-template-columns: 3fr 4fr;
	grid-template-rows: 3fr 5fr;

	.table {
		grid-area: 1 / 1 / 2 / 2;

		.plate {
			width: 120px;
			height: 120px;
			background: $color-white;
			border: 3px solid $color-black;
			border-radius: 50%;
			padding: 19px;
			margin: 40px auto 0;

			.dish {
				width: 75px;
				height: 75px;
				background: $color-white;
				border: 3px solid $color-black;
				border-radius: 50%;
			}
		}
	}

	.stove {
		grid-area: 2 / 1 / 3 / 2;

		.pot {
			width: 280px;
			height: 260px;
			margin: 20px auto 0;
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			align-items: center;
			padding: 75px 50px 45px;
			gap: 5px;
			@include animate2Img;

			.ingredient {
				min-width: 50px;
				min-height: 50px;
				max-width: 80px;
				max-height: 80px;
				aspect-ratio: 1/1;
				border-radius: 50%;
				padding: 5px;

				&:hover {
					cursor: pointer;
					padding: 0;
				}
				&:active {
					padding: 5px;
				}
				&:disabled {
					opacity: 0.5;
					padding: 5px;
					cursor: not-allowed;
				}
				i {
					width: 100%;
					height: 100%;
					display: block;
				}
			}
			.plus {
				background: url('~/public/images/icons/plus.svg') no-repeat center/70% 70%;
				background-color: $color-gray;
				border-radius: 50%;
			}
		}
	}

	.desk {
		grid-area: 1 / 2 / 3 / 3;
		padding: 10px;

		.recipes {
			background: $color-white;
			border: 3px solid $color-black;
			border-radius: 8px;
			width: 100%;
			height: 100%;
			padding: 10px;
			@include overflowScroll;

			.recipe {
				display: flex;
				gap: 40px;
				align-items: center;
				padding: 10px 20px;
				border-bottom: 3px solid $color-black;

				.ingredients {
					display: flex;
					gap: 3px;

					i {
						width: 32px;
						height: 32px;
						display: block;
					}
				}
			}
		}
	}
}

.grocerBalloon {
	@include balloon;
	top: -330px;
	width: 580px;
	height: 720px;
	background: $color-ocher;

	.checkstand {
		display: flex;
		align-items: center;
		gap: 100px;
		position: relative;

		&::before {
			content: '';
			display: block;
			position: absolute;
			top: 50%;
			left: 140px;
			transform: translateY(-50%);
			width: 60px;
			height: 45px;
			background: url('~/public/images/icons/arrow.svg') no-repeat center/contain;
		}

		.sell {
			background: $color-white;
			border: 3px solid $color-black;
			border-radius: 8px;
			width: 120px;
			height: 120px;
			padding: 10px 0;

			button {
				margin: 0 auto;
			}

			.sellNum {
				font-size: 16px;
				font-weight: 600;
				font-family: $font-en;
				margin-top: 5px;
				text-align: center;
			}
			button:hover:not(:disabled) + .sellNum {
				margin-top: -1px;
			}
		}

		.wallet {
			border-bottom: $color-black 3px solid;
			width: 320px;
			height: 45px;
			font-size: 36px;
			font-family: $font-en;
			font-weight: 600;
			color: $color-white;
			text-align: right;
			position: relative;

			&::before {
				content: '';
				display: block;
				position: absolute;
				top: 0;
				left: 0;
				width: 40px;
				height: 40px;
				background: url('~/public/images/icons/money-large.svg') no-repeat center/contain;
			}
		}

	}
	.shelf {
		background: $color-white;
		border: 3px solid $color-black;
		border-radius: 8px;
		padding: 10px;
		height: 500px;
		margin-top: 20px;
		@include overflowScroll;
		display: flex;
		flex-wrap: wrap;
		gap: 20px;

		.product {

			.buyNum {
				text-align: center;
				font-family: $font-en;
				font-size: 16px;
				font-weight: 600;
				margin-top: 5px;
				padding-right: 10px;

				&::before {
					content: '';
					display: inline-block;
					vertical-align: bottom;
					margin-right: 4px;
					width: 16px;
					height: 16px;
					background: url('~/public/images/icons/money.svg') no-repeat center/contain;
				}
				&.is-disabled {
					opacity: 0.5;
				}
			}
		}
	}
}