@import '../settings.scss';
@import '../mxin.scss';
@import '../common/item.scss';

.shops {
	width: 100px;
}

.shop {
	width: 100px;
	height: 120px;
	padding: 10px 0;
	position: relative;

	&.selectedShop::before {
		content: '';
		position: absolute;
		top: 40px;
		right: 95px;
		display: block;
    height: 50px;
    width: 37px;
		clip-path: polygon(50% 50%, 0 0, 0 100%);
		background-color: $color-black;
	}
}

@mixin shopBtnActive {
	width: 100px;
	height: 100px;
	margin: 0;
}

@mixin shopBtn {
	@include shopBtnActive;

	&:hover {
		cursor: pointer;
		width: 106px;
		height: 106px;
		margin: -3px;
	}
	&:active {
		@include shopBtnActive;
	}
}

@each $shop in $shops {
	.#{$shop} {
		background: url('~/public/images/shops/#{$shop}.webp') no-repeat center/contain;
		@include shopBtn;
	}
}

@mixin balloon {
	position: absolute;
	top: 10px;
	right: 130px;
	border: $color-black 3px solid;
	border-radius: 8px;
	background: $color-white;
	padding: 10px;
	width: 380px;
	height: 730px;
}

.museumBalloon {
	@include balloon;

	.achievement {
		padding: 10px 10px 10px 80px;
		border-bottom: 3px solid $color-black;
		position: relative;

		.acvTitle {
			font-size: 30px;
			font-weight: bold;
			font-family: $font-en;
		}
		.acvText {
			font-size: 16px;
		}

		&::before {
			content: '';
			position: absolute;
			top: 15px;
			left: 5px;
			display: block;
			width: 60px;
			height: 60px;
			background: url('~/public/images/achievements/trophy-secret.svg') no-repeat center/contain;
		}
		@each $acv in $achievements {
			&.#{$acv}::before {
				background-image: url('~/public/images/achievements/#{$acv}.svg');
			}
		}
	}
}

.restaurantBalloon {
	@include balloon;
	background: $color-mustard;
	top: -100px;
	width: 730px;
	height: 480px;
	display: grid;
	grid-template-columns: 3fr 4fr;
	grid-template-rows: 3fr 5fr;

	.table {
		grid-area: 1 / 1 / 2 / 2;

		.plate {
			width: 120px;
			height: 120px;
			background: $color-white;
			border: 3px solid $color-black;
			border-radius: 50%;
			padding: 19px;
			margin: 40px auto 0;

			.dish {
				width: 75px;
				height: 75px;
				background: $color-white;
				border: 3px solid $color-black;
				border-radius: 50%;
			}
		}
	}

	.stove {
		grid-area: 2 / 1 / 3 / 2;

		.pot {
			width: 280px;
			height: 260px;
			margin: 20px auto 0;
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			align-items: center;
			padding: 75px 50px 45px;
			gap: 5px;

			$a: url('~/public/images/shops/pot1.webp') no-repeat center/contain;
			$b: url('~/public/images/shops/pot2.webp') no-repeat center/contain;
			@keyframes anime-pot {
				0% { background: $a; }
				49% { background: $a; }
				50% { background: $b; }
				100% { background: $b; }
			}
			animation: anime-pot 1s infinite alternate;

			.ingredient {
				min-width: 50px;
				min-height: 50px;
				max-width: 80px;
				max-height: 80px;
				aspect-ratio: 1/1;
				border-radius: 50%;
				padding: 5px;

				&:hover {
					cursor: pointer;
					padding: 0;
				}
				&:active {
					padding: 5px;
				}
				&:disabled {
					opacity: 0.5;
					padding: 5px;
					cursor: not-allowed;
				}
				i {
					width: 100%;
					height: 100%;
					display: block;
				}
			}
			.plus {
				background: url('~/public/images/icons/plus.svg') no-repeat center/70% 70%;
				background-color: $color-gray;
				border-radius: 50%;
			}
		}
	}

	.desk {
		grid-area: 1 / 2 / 3 / 3;
		padding: 10px;

		.recipes {
			background: $color-white;
			border: 3px solid $color-black;
			border-radius: 8px;
			width: 100%;
			height: 100%;
			padding: 10px;
			@include overflowScroll;

			.recipe {
				display: flex;
				gap: 40px;
				align-items: center;
				padding: 10px 20px;
				border-bottom: 3px solid $color-black;

				.ingredients {
					display: flex;
					gap: 3px;

					i {
						width: 32px;
						height: 32px;
						display: block;
					}
				}
			}
		}
	}
}

.grocerBalloon {
	@include balloon;
	top: -220px;
	width: 580px;
	height: 720px;
	background: $color-ocher;
}